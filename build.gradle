apply plugin: 'java'

repositories{
    mavenCentral()
    jcenter()
    maven{url 'https://www.jitpack.io'}
}

ext{
    mindustryVersion = 'v120'
    d4jVersion = '3.1.2'
}

project.ext.mainClassName = "reaperbot.ReaperBot"

dependencies{
    implementation "org.hjson:hjson:3.0.0"
    implementation "com.discord4j:discord4j-core:$d4jVersion"
    implementation "com.github.Anuken.Arc:arc-core:$mindustryVersion"
    implementation "com.github.Anuken.Mindustry:core:$mindustryVersion"
}

task dist(type: Jar){
    from files(sourceSets.main.output.classesDirs)
    from files(sourceSets.main.output.resourcesDir)
    from{configurations.runtimeClasspath.collect{it.isDirectory() ? it : zipTree(it)}}

    archiveFileName = "${project.name}.jar"

    manifest{attributes 'Main-Class': project.mainClassName}
}

